<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Number Guess</h1>
    <p>1부터 100 사이의 숫자를 입력하시오.</p>
    <input id="number" type="text" placeholder="숫자를 입력하시오.">
    <button type="button" onclick="guess()">숫자 추측</button>
    <button type="button" onclick="restart()">다시 시작</button>


    <p id="message">
        
    </p>
        
        
</body>
<script>
    // 1~100 사이의 랜덤한 숫자를 생성한다.
    let randNum = parseInt(Math.random() * 100 + 1); //랜덤 숫자
    let count = 0; // 사용자가 입력한 횟수
    const MAX_COUNT = 5; // 기회 횟수
    const inputTag = document.querySelector("#number"); // input 태그 가져옴.
    const pTag = document.querySelector("#message"); // p 태그 가져옴.
    
    function restart(){
        count = 0;
        randNum = parseInt(Math.random() * 100 + 1);
        pTag.innerHTML = "";
    }

    function guess() {
     // 1. 사용자가 입력한 숫자를 가져온다.
    const userNum = inputTag.value;
    inputTag.value = "";
    count++;
    // 2. 가져온 숫자를 랜덤 숫자와 비교한다.
    if(userNum == randNum){
            alert(`게임에서 승리하셨습니다. 컴퓨터의 숫자 : ${randNum}`);
    // 3. 두개가 같으면 `게임에서 승리하셨습니다.` 라는 문구를 화면에 출력한다.
    } else {
    // 4. 두개가 다르면 대소비교를 하고 화면에 힌트를 제공한다.
    if(userNum > randNum){
    // 4.1 p 태그에 메세지 출력
    // pTag.innerHTML = `입력하신 숫자보다 작습니다. 입력한 숫자 : ${userNum},남은횟수 : ${MAX_COUNT - count}`;
    
    // 4.1.1 span 태그를 생성
    const span = document.createElement("span");
       
    // 4.1.2 span 태그에 화면에 표시할 내용을 innerHTML 로 넣어주고
    span.innerHTML = `입력하신 숫자보다 작습니다. 입력한 숫자 : ${userNum},남은횟수 : ${MAX_COUNT - count}`;

    // 4.1.3 p 태그에 span 태그를 append로 추가한다.
    pTag.append(span);
    pTag.append(document.createElement(br));


    // } else {
     pTag.innerHTML = `입력하신 숫자보다 큽니다. 입력한 숫자 : ${userNum},남은횟수 : ${MAX_COUNT - count}`;
    } 
    }
        // 4.2 횟수 사용자 입력 횟수와 기회 횟수를 비교하여 같으면 게임 종료
        if(count == MAX_COUNT){
            alert(`게임에서 패배하셨습니다. 컴퓨터의 숫자 : ${randNum}`);
        }
        count++;
    } 
</script>
</html>